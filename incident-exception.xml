<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="http://moise.sourceforge.net/xml/os.xsl" type="text/xsl" ?>
<organisational-specification    id="incident"    os-version="0.8"    xmlns='http://moise.sourceforge.net/os'    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'    xsi:schemaLocation='http://moise.sourceforge.net/os                        http://moise.sourceforge.net/xml/os.xsd' >

  <structural-specification>
    <role-definitions>
    <role id="customer" />
    <role id="key_account_manager" />
    <role id="key_account_worker1" />
    <role id="key_account_worker2" />
    <role id="key_account_worker3" />
    <role id="key_account_worker4" />
    <role id="first_level_manager" />
    <role id="first_level_worker1" />
    <role id="first_level_worker2" />
    <role id="first_level_worker3" />
    <role id="first_level_worker4" />
    <role id="second_level_manager" />
    <role id="second_level_worker1" />
    <role id="second_level_worker2" />
    <role id="second_level_worker3" />
    <role id="second_level_worker4" />
    <role id="second_level_worker5" />
    <role id="developer_manager" />
    <role id="developer_worker1" />
    <role id="developer_worker2" />
  </role-definitions>


  <group-specification id="incident_management_group">
  	<subgroups>
  		<group-specification id="key_account_management_group">
      		<roles>
          		<role id="customer" min="1" max="1"/>
          		<role id="key_account_manager" min="1" max="1"/>
          		<role id="key_account_worker1" min="1" max="1"/>
          		<role id="key_account_worker2" min="1" max="1"/>
          		<role id="key_account_worker3" min="1" max="1"/>
          		<role id="key_account_worker4" min="1" max="1"/>
      		</roles>
      	</group-specification>
      	<!--<group-specification id="first_level_support_group">
      		<roles>
          		<role id="first_level_manager" min="1" max="1"/>
          		<role id="first_level_worker1" min="1" max="1"/>
          		<role id="first_level_worker2" min="1" max="1"/>
          		<role id="first_level_worker3" min="1" max="1"/>
          		<role id="first_level_worker4" min="1" max="1"/>
      		</roles>
      	</group-specification>
      	<group-specification id="second_level_support_group">
      		<roles>
          		<role id="second_level_manager" min="1" max="1"/>
          		<role id="second_level_worker1" min="1" max="1"/>
          		<role id="second_level_worker2" min="1" max="1"/>
          		<role id="second_level_worker3" min="1" max="1"/>
          		<role id="second_level_worker4" min="1" max="1"/>
          		<role id="second_level_worker5" min="1" max="1"/>
      		</roles>
      	</group-specification>-->
      	<group-specification id="developer_group">
      		<roles>
          		<role id="developer_manager" min="1" max="1"/>
          		<role id="developer_worker1" min="1" max="1"/>
          		<role id="developer_worker2" min="1" max="1"/>
      		</roles>
      	</group-specification>
      </subgroups>
  </group-specification>

</structural-specification>

  <functional-specification>

    <!-- KEY ACCOUNT MANAGEMENT PROCESS-->
    <scheme id="scheme_am">

      <goal id="root_am" ds="root key account management">
        <plan operator="sequence">
          <goal id="gd" ds="get-description" />
          <goal id="switch_ch_cnh">
            <plan operator="choice">
              <goal id="ch_branch" ds="can handle branch">
                <plan operator="sequence">
                  <goal id="ch" ds="can-handle" />
                  <goal id="es1" ds="explain solution" />
                </plan>
              </goal>
              <goal id="cnh_branch" ds="cannot handle branch">
                <plan operator="sequence">
                  <goal id="cnh" ds="cannot-handle" />
                  <goal id="ask1ls" ds="ask 1st level support">
                    <throwing id="throw_ask1ls">
                      <exception id="timeoutam" />
                      <exception id="cancel1lsreq" />
                    </throwing>
                  </goal>
                  <goal id="es2" ds="explain solution" />
                </plan>
                <handler id="handler_timeoutam" target="timeoutam">
                  <goal id="rec" ds="invite to recall"/>
                </handler>
              </goal>
            </plan>
          </goal>
        </plan>
        <handler id="handler_cancel1lsreq" target="cancel1lsreq">
          <goal id="cpr" ds="cancel problem request" />
        </handler>
      </goal>

      <mission id="m0" min="1" max="1">
        <goal id="root_am" />
        <goal id="ch" />
        <goal id="cnh" />
        <goal id="cpr" />
      </mission>
      <mission id="m1" min="1" max="1">
        <goal id="gd" />
      </mission>
      <mission id="m2" min="1" max="1">
        <goal id="ask1ls" />
        <throwing id="throw_ask1ls" />
      </mission>
      <mission id="m3" min="1" max="1">
        <goal id="es1" />
        <goal id="es2" />
      </mission>
      <mission id="m4" min="1" max="1">
        <goal id="rec" />
      </mission>

    </scheme>

    <!-- FIRST LEVEL SUPPORT PROCESS -->
    <!--<scheme id="scheme_fls">
      <goal id="root_fls" ds="root first level support">
        <plan operator="sequence">
          <goal id="h1li" ds="handle 1st level issue" />
          <goal id="switch_rs_r2li">
            <plan operator="choice">
              <goal id="rs_branch" ds="result solved branch">
                <plan operator="sequence">
                  <goal id="rs" ds="result solved" />
                  <goal id="pffam1" ds="provide feedback to account manager" />
                </plan>
              </goal>
              <goal id="r2li_branch" ds="result 2nd level issue branch">
                <plan operator="sequence">
                  <goal id="r2li" ds="result 2nd level issue" />
                  <goal id="ask2ls" ds="ask 2nd level support">
                    <throwing id="throw_ask2ls">
                      <exception id="timeout1ls"/>
                    </throwing>
                  </goal>
                  <goal id="pffam2" ds="provide feedback for account manager" />
                </plan>
                <handler id="handler_timeout1ls" target="timeout1ls">
                  <goal id="expf1ls" ds="explain failure first level support" />
                </handler>
              </goal>
            </plan>
          </goal>
        </plan>
      </goal>

      <mission id="m5" min="1" max="1">
        <goal id="root_fls" />
        <goal id="rs" />
        <goal id="r2li" />
      </mission>
      <mission id="m6" min="1" max="1">
        <goal id="h1li" />
      </mission>
      <mission id="m7" min="1" max="1">
        <goal id="ask2ls" />
        <throwing id="throw_ask2ls">
      </mission>
      <mission id="m8" min="1" max="1">
        <goal id="pffam1" />
        <goal id="pffam2" />
      </mission>
      <mission id="m9" min="1" max="1">
        <goal id="expf1ls" />
      </mission>

    </scheme>-->

    <!-- DEVELOPER PROCESS -->
    <scheme id="scheme_developer">

      <goal id="root_developer" ttf="5seconds">
        <plan operator="sequence">
          <goal id="ep" ds="examine problem" />
          <goal id="pff2ls" ds="provide feedback for 2nd level support">
            <throwing id="throw_pff2ls">
              <exception id="fail_dev" />
            </throwing>
          </goal>
        </plan>
        <handler id="handler_fail_dev" target="fail_dev">
          <goal id="expfdev" ds="explain failure software developer" />
        </handler>
      </goal>

      <mission id="m5" min="1" max="1">
        <goal id="root_developer"/>
        <goal id="expfdev"/>
      </mission>
      <mission id="m6" min="1" max="1">
          <goal id="ep"/>
      </mission>
      <mission id="m7" min="1" max="1">
          <goal id="pff2ls"/>
          <throwing id="throw_pff2ls" />
      </mission>

    </scheme>

  </functional-specification>

  <normative-specification>

    <norm id="n0" type="obligation" role="key_account_manager" mission="m0"/>
    <norm id="n1" type="obligation" role="key_account_worker1" mission="m1"/>
    <norm id="n2" type="obligation" role="key_account_worker2" mission="m2"/>
    <norm id="n3" type="obligation" role="key_account_worker3" mission="m3"/>
    <norm id="n4" type="obligation" role="key_account_worker4" mission="m4"/>

    <!--<norm id="n5" type="obligation" role="first_level_manager" mission="m5"/>
    <norm id="n6" type="obligation" role="first_level_worker1" mission="m6"/>
    <norm id="n7" type="obligation" role="first_level_worker2" mission="m7"/>
    <norm id="n8" type="obligation" role="first_level_worker3" mission="m8"/>
    <norm id="n9" type="obligation" role="first_level_worker4" mission="m9"/>

    <norm id="n10" type="obligation" role="second_level_manager" mission="m10"/>
    <norm id="n11" type="obligation" role="second_level_worker1" mission="m11"/>
    <norm id="n12" type="obligation" role="second_level_worker2" mission="m12"/>
    <norm id="n13" type="obligation" role="second_level_worker3" mission="m13"/>
    <norm id="n14" type="obligation" role="second_level_worker4" mission="m14"/>
    <norm id="n15" type="obligation" role="second_level_worker5" mission="m15"/>-->

    <norm id="n5" type="obligation" role="developer_manager" mission="m5"/>
    <norm id="n6" type="obligation" role="developer_worker1" mission="m6"/>
    <norm id="n7" type="obligation" role="developer_worker2" mission="m7"/>

  </normative-specification>

</organisational-specification>
